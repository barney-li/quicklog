input:
	price[size](NumericArray),
	arrIndex(NumericSimple),
	maxFlag(TrueFalseSimple),
	length(NumericSimple);
var: 
	intrabarpersist index(0),
	intrabarpersist extremeValue(0);
begin
	extremeValue= price[arrIndex];
	if(arrIndex >= length - 1) then
	begin
		if maxFlag then 
		begin
			for index=0 to length-1 
			begin
				if price[arrIndex - index] > extremeValue then extremeValue = price[arrIndex - index];
			end;
		end
		else
		begin
			for index=0 to length-1 
			begin
				if price[arrIndex - index] < extremeValue then extremeValue = price[arrIndex - index];
			end;
		end;
	end;
	myExtremesArray = extremeValue;
end;
