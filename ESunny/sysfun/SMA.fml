//--------------------------------------------------------------
// 简称: SMA
// 名称: 求移动平均
// 类型: 用户函数
// 输出: Numeric
//--------------------------------------------------------------
Params
	NumericSeries Price(1);  
	Numeric Length(10);
	Numeric Weight(1);
Vars
	NumericSeries SMAValue;
Begin
	If (CurrentBar == 0)
	{
		SMAValue = Price;
	}Else
	{
		SMAValue = (SMAValue[1]*(Length-Weight)+Price*Weight)/Length;
	}
	Return SMAValue;
End
