//--------------------------------------------------------------
// 简称: ValueWhen
// 名称: 返回最后一次满足条件的值
// 类型: 用户函数
// 输出: Numeric
//--------------------------------------------------------------
Params
	Bool Condition;
	Numeric Data;
Vars
	NumericSeries lastData;
Begin
	if(Condition)
	{
		lastData = Data;
	}
	Else
	{
		lastData = lastData[1];
	}
	Return lastData;
End
